{"version":3,"sources":["assets/logo.svg","assets/loading.svg","utils/content-data.js","components/content.js","components/footer.js","components/hero.js","components/loading.js","components/login-button.js","components/logout-button.js","components/nav-bar.js","components/highlight.js","components/private-route.js","views/external-api.js","views/home.js","views/profile.js","app.js","auth0-provider-with-history.js","index.js"],"names":["module","exports","contentData","title","link","description","Content","className","Row","map","col","i","Col","key","md","target","rel","href","Footer","Hero","src","logo","alt","width","Loading","loading","LoginButton","loginWithRedirect","useAuth0","Button","onClick","id","varian","LogoutButton","logout","variant","MainNav","Nav","Link","as","RouterNavLink","to","exact","activeClassName","AuthNav","isAuthenticated","NavBar","Navbar","bg","expand","Container","Brand","SyntaxHighlighter","registerLanguage","json","Highlight","children","language","style","atomDark","PrivateRoute","component","args","withAuthenticationRequired","onRedirecting","serverUrl","booksUrl","useState","message","setMessage","getAccessTokenSilently","callBooksApi","a","fetch","response","responseData","callBooksSecureApi","token","headers","Authorization","callBooksRoleApi","callBooksAdminApi","callApi","callSecureApi","callRoleApi","callAdminApi","ButtonGroup","color","JSON","stringify","Home","Profile","user","name","picture","email","App","isLoading","path","ExternalApi","Auth0ProviderWithHistory","history","useHistory","domain","process","clientId","redirectUri","window","location","origin","onRedirectCallback","appState","push","returnTo","pathname","audience","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a058b19d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","module.exports = __webpack_public_path__ + \"static/media/loading.c5590569.svg\";","const contentData = [\n  {\n    title: \"Configure other identity providers\",\n    link: \"https://auth0.com/docs/connections\",\n    description:\n      \"Auth0 supports social providers as Facebook, Twitter, Instagram and 100+, Enterprise providers as Microsoft Office 365, Google Apps, Azure, and more. You can also use any OAuth2 Authorization Server.\",\n  },\n  {\n    title: \"Enable Multifactor Authentication\",\n    link: \"https://auth0.com/docs/multifactor-authentication\",\n    description:\n      \"Add an extra layer of security by enabling Multi-factor Authentication, requiring your users to provide more than one piece of identifying information. Push notifications, authenticator apps, SMS, and DUO Security are supported.\",\n  },\n  {\n    title: \"Anomaly Detection\",\n    link: \"https://auth0.com/docs/anomaly-detection\",\n    description:\n      \"Auth0 can detect anomalies and stop malicious attempts to access your application. Anomaly detection can alert you and your users of suspicious activity, as well as block further login attempts.\",\n  },\n  {\n    title: \"Learn About Rules\",\n    link: \"https://auth0.com/docs/rules\",\n    description:\n      \"Rules are JavaScript functions that execute when a user authenticates to your application. They run once the authentication process is complete, and you can use them to customize and extend Auth0's capabilities.\",\n  },\n];\n\nexport default contentData;\n","import React from \"react\";\n\nimport contentData from \"../utils/content-data\";\nimport { Col, Row } from \"react-bootstrap\";\n\nconst Content = () => (\n  <div className=\"next-steps my-5\">\n    <h2 className=\"my-5 text-center\">What can I do next?</h2>\n    <Row className=\"d-flex justify-content-between\">\n      {contentData.map((col, i) => (\n        <Col key={i} md={5} className=\"mb-4\">\n          <h6 className=\"mb-3\">\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href={col.link}>\n              {col.title}\n            </a>\n          </h6>\n          <p>{col.description}</p>\n        </Col>\n      ))}\n    </Row>\n  </div>\n);\n\nexport default Content;\n","import React from \"react\";\n\nconst Footer = () => (\n  <footer className=\"bg-light p-3 text-center\">\n    <div className=\"logo\" />\n    <p>\n      Sample project provided by{\" \"}\n      <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://auth0.com\">\n        Auth0\n      </a>\n    </p>\n  </footer>\n);\n\nexport default Footer;\n","import React from \"react\";\n\nimport logo from \"../assets/logo.svg\";\n\nconst Hero = () => (\n  <div className=\"text-center hero my-5\">\n    <img className=\"mb-3 app-logo\" src={logo} alt=\"React logo\" width=\"120\" />\n    <h1 className=\"mb-4\">React.js Sample Project</h1>\n\n    <p className=\"lead\">\n      This is a sample application that demonstrates an authentication flow for\n      an SPA, using{\" \"}\n      <a\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        href=\"https://auth0.com/docs/quickstart/spa/react\"\n      >\n        React.js\n      </a>\n    </p>\n  </div>\n);\n\nexport default Hero;\n","import React from \"react\";\nimport loading from \"../assets/loading.svg\";\n\nconst Loading = () => (\n  <div className=\"spinner\">\n    <img src={loading} alt=\"Loading\" />\n  </div>\n);\n\nexport default Loading;\n","// src/components/login-button.js\n\nimport React from 'react';\nimport { useAuth0 } from '@auth0/auth0-react';\nimport { Button } from 'react-bootstrap';\n\nconst LoginButton = () => {\n  const { loginWithRedirect } = useAuth0();\n  return (\n    <Button\n      onClick={() => loginWithRedirect()}\n      id=\"qsLoginBtn\"\n      varian=\"primary\"\n      className='btn-margin'\n    >\n      Log In\n    </Button>\n  );\n};\n\nexport default LoginButton;","// src/components/logout-button.js\n\nimport React from 'react';\nimport { useAuth0 } from '@auth0/auth0-react';\nimport { Button } from 'react-bootstrap';\n\nconst LogoutButton = () => {\n  const { logout } = useAuth0();\n  return (\n    <Button\n      className=\"btn-margin\"\n      onClick={() => logout()}\n      id=\"qsLogoutBtn\"\n      variant=\"danger\"\n    >\n      Log Out\n    </Button>\n  );\n};\n\nexport default LogoutButton;","import React from \"react\";\nimport { NavLink as RouterNavLink } from \"react-router-dom\";\nimport { Container, Nav, Navbar } from \"react-bootstrap\";\nimport LoginButton from \"./login-button\";\nimport LogoutButton from \"./logout-button\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nconst MainNav = () => (\n  <Nav className=\"mr-auto\">\n    <Nav.Link\n      as={RouterNavLink}\n      to=\"/ReactApp_Auth0/\"\n      exact\n      activeClassName=\"router-link-exact-active\"\n    >\n      Home\n    </Nav.Link>\n    <Nav.Link\n      as={RouterNavLink}\n      to=\"/ReactApp_Auth0/profile\"\n      exact\n      activeClassName=\"router-link-exact-active\"\n    >\n      Profile\n    </Nav.Link>\n    <Nav.Link\n      as={RouterNavLink}\n      to=\"/ReactApp_Auth0/external-api\"\n      exact\n      activeClassName=\"router-link-exact-active\"\n    >\n      External API\n    </Nav.Link>\n  </Nav>\n);\n\nconst AuthNav = () => {\n  const { isAuthenticated } = useAuth0();\n\n  return (\n    <Nav className=\"justify-content-end\">\n      {isAuthenticated ? <LogoutButton /> : <LoginButton />}\n    </Nav>\n  );\n};\n\nconst NavBar = () => {\n  return (\n    <Navbar bg=\"light\" expand=\"md\">\n      <Container>\n        <Navbar.Brand as={RouterNavLink} className=\"logo\" to=\"/\" />\n        <MainNav />\n        <AuthNav />\n      </Container>\n    </Navbar>\n  );\n};\n\nexport default NavBar;\n","import React from \"react\";\nimport { PrismAsyncLight as SyntaxHighlighter } from \"react-syntax-highlighter\";\nimport json from \"react-syntax-highlighter/dist/esm/languages/prism/json\";\nimport atomDark from \"react-syntax-highlighter/dist/esm/styles/prism/atom-dark\";\n\nSyntaxHighlighter.registerLanguage(\"json\", json);\n\nconst Highlight = ({ children }) => (\n  <SyntaxHighlighter language=\"json\" style={atomDark}>\n    {children}\n  </SyntaxHighlighter>\n);\n\nexport default Highlight;\n","// src/auth/protected-route.js\n\nimport React from 'react';\nimport { Route } from 'react-router-dom';\nimport { withAuthenticationRequired } from '@auth0/auth0-react';\nimport { Loading } from './index';\n\nconst PrivateRoute = ({ component, ...args }) => (\n  <Route\n    component={withAuthenticationRequired(component, {\n      onRedirecting: () => <Loading />,\n    })}\n    {...args}\n  />\n);\n\nexport default PrivateRoute;","import React, { useState } from \"react\";\nimport { Button, ButtonGroup, Container } from \"react-bootstrap\";\nimport {Loading, Highlight} from \"../components\";\nimport { withAuthenticationRequired, useAuth0 } from \"@auth0/auth0-react\";\n\nconst serverUrl = \"https://gh0st-api-nodejs.herokuapp.com\"\nconst booksUrl = \"https://gh0st-books-api-nodejs.herokuapp.com\"\n\nexport const ExternalApi = () => {\n  const [message, setMessage] = useState(\"\");\n\n\n  const { getAccessTokenSilently } = useAuth0();\n\n// -------------------\n// Books API -----------------------------------------------------------------------\n\n// Books API unprotected\nconst callBooksApi = async () => {\n  try {\n    const response = await fetch(`${booksUrl}/api/books`);\n\n    const responseData = await response.json();\n\n    setMessage(responseData);\n  } catch (error) {\n    setMessage(error.message);\n  }\n};\n\n// Books API protected\nconst callBooksSecureApi = async () => {\n  try {\n    const token = await getAccessTokenSilently();\n\n    const response = await fetch(\n      `${booksUrl}/api/mybooks`,\n      {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      },\n    );\n\n    const responseData = await response.json();\n\n    setMessage(responseData);\n  } catch (error) {\n    setMessage(error.message);\n  }\n};\n\n    // Books API protected and requires read:courses scope\n    const callBooksRoleApi = async () => {\n      try {\n        const token = await getAccessTokenSilently();\n  \n        const response = await fetch(\n          `${booksUrl}/api/books/details`,\n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n          },\n        );\n  \n        const responseData = await response.json();\n  \n        setMessage(responseData);\n      } catch (error) {\n        setMessage(error.message);\n      }\n    };\n\n    // Books API protected and requires read:courses and read:admin scope\n    const callBooksAdminApi = async () => {\n      try {\n        const token = await getAccessTokenSilently();\n  \n        const response = await fetch(\n          `${booksUrl}/api/books/details/users`,\n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n          },\n        );\n  \n        const responseData = await response.json();\n  \n        setMessage(responseData);\n      } catch (error) {\n        setMessage(error.message);\n      }\n    };\n\n// -------------------\n// Courses API -----------------------------------------------------------------------\n\n// Courses API unprotected\n  const callApi = async () => {\n    try {\n      const response = await fetch(`${serverUrl}/api/courses`);\n\n      const responseData = await response.json();\n\n      setMessage(responseData);\n    } catch (error) {\n      setMessage(error.message);\n    }\n  };\n\n// Courses API protected\n    const callSecureApi = async () => {\n      try {\n        const token = await getAccessTokenSilently();\n  \n        const response = await fetch(\n          `${serverUrl}/api/mycourses`,\n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n          },\n        );\n  \n        const responseData = await response.json();\n  \n        setMessage(responseData);\n      } catch (error) {\n        setMessage(error.message);\n      }\n    };\n\n    // Courses API protected and requires read:courses scope\n    const callRoleApi = async () => {\n      try {\n        const token = await getAccessTokenSilently();\n  \n        const response = await fetch(\n          `${serverUrl}/api/courses/details`,\n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n          },\n        );\n  \n        const responseData = await response.json();\n  \n        setMessage(responseData);\n      } catch (error) {\n        setMessage(error.message);\n      }\n    };\n\n    // Courses API protected and requires read:courses and read:admin scope\n    const callAdminApi = async () => {\n      try {\n        const token = await getAccessTokenSilently();\n  \n        const response = await fetch(\n          `${serverUrl}/api/courses/details/users`,\n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n          },\n        );\n  \n        const responseData = await response.json();\n  \n        setMessage(responseData);\n      } catch (error) {\n        setMessage(error.message);\n      }\n    };\n\n  return (\n    <Container className=\"mb-5\">\n      <h1>External API</h1>\n      <p>\n        You use will use a button to call an external API using an access token,\n        and the API will validate it using the API's audience value.{\" \"}\n        <strong>This route should be private</strong>.\n      </p>\n      <ButtonGroup>\n        <Button onClick={callApi} color=\"primary\" className=\"mt-5\">\n          Get List of Courses\n        </Button>\n        <Button onClick={callSecureApi} color=\"primary\" className=\"mt-5\">\n          Get My Courses\n        </Button>\n        <Button onClick={callRoleApi} color=\"primary\" className=\"mt-5\">\n          Get Detailed List of Courses\n        </Button>\n        <Button onClick={callAdminApi} color=\"primary\" className=\"mt-5\">\n          Get Users Enrolled in Courses\n        </Button>\n      </ButtonGroup>\n      <ButtonGroup>\n        <Button onClick={callBooksApi} color=\"primary\" className=\"mt-5\">\n          Get List of Books\n        </Button>\n        <Button onClick={callBooksSecureApi} color=\"primary\" className=\"mt-5\">\n          Get My Books\n        </Button>\n        <Button onClick={callBooksRoleApi} color=\"primary\" className=\"mt-5\">\n          Get Detailed List of Books\n        </Button>\n        <Button onClick={callBooksAdminApi} color=\"primary\" className=\"mt-5\">\n          Get Users and Books\n        </Button>\n      </ButtonGroup>\n\n      {message && (\n        <div className=\"mt-5\">\n          <h6 className=\"muted\">Result</h6>\n          <Highlight language=\"json\">\n            {JSON.stringify(message, null, 2)}\n          </Highlight>\n        </div>\n      )}\n    </Container>\n  );\n};\n\nexport default withAuthenticationRequired(ExternalApi, {\n  onRedirecting: () => <Loading />,\n});\n","import React, { Fragment } from \"react\";\n\nimport { Hero, Content } from \"../components\";\n\nconst Home = () => (\n  <Fragment>\n    <Hero />\n    <hr />\n    <Content />\n  </Fragment>\n);\n\nexport default Home;\n","import React from \"react\";\n\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nexport const Profile = () => {\n  const { user } = useAuth0();\n  const {name, picture, email} = user;\n\n  return (\n<div>\n      <div className=\"row align-items-center profile-header\">\n        <div className=\"col-md-2 mb-3\">\n          <img\n            src={picture}\n            alt=\"Profile\"\n            className=\"rounded-circle img-fluid profile-picture mb-3 mb-md-0\"\n          />\n        </div>\n        <div className=\"col-md text-center text-md-left\">\n          <h2>{name}</h2>\n          <p className=\"lead text-muted\">{email}</p>\n        </div>\n      </div>\n      <div className=\"row\">\n        <pre className=\"col-12 text-light bg-dark p-4\">\n          {JSON.stringify(user, null, 2)}\n        </pre>\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;\n","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { Container } from \"react-bootstrap\";\n\nimport { NavBar, Footer, Loading, PrivateRoute } from \"./components\";\nimport { Home, Profile, ExternalApi } from \"./views\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nimport \"./app.css\";\n\nconst App = () => {\n  const { isLoading } = useAuth0();\n\n  if (isLoading){\n    return <Loading />;\n  }\n  return (\n    <div id=\"app\" className=\"d-flex flex-column h-100\">\n      <NavBar />\n      <Container className=\"flex-grow-1 mt-5\">\n        <Switch>\n          <Route path=\"/ReactApp_Auth0/\" exact component={Home} />\n          <PrivateRoute path=\"/ReactApp_Auth0/profile\" component={Profile} />\n          <Route path=\"/ReactApp_Auth0/external-api\" component={ExternalApi} />\n        </Switch>\n      </Container>\n      <Footer />\n    </div>\n  );\n};\n\nexport default App;\n","// src/auth/auth0-provider-with-history.js\n\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Auth0Provider } from '@auth0/auth0-react';\n\nconst Auth0ProviderWithHistory = ({ children }) => {\n  const domain = process.env.REACT_APP_AUTH0_DOMAIN;\n  const clientId = process.env.REACT_APP_AUTH0_CLIENT_ID;\n  const audience = process.env.REACT_APP_AUDIENCE;\n\n  const history = useHistory();\n\n  const onRedirectCallback = (appState) => {\n    history.push(appState?.returnTo || window.location.pathname);\n  };\n\n  return (\n    <Auth0Provider\n      domain={domain}\n      clientId={clientId}\n      redirectUri={window.location.origin + \"/ReactApp_Auth0/\"}\n      onRedirectCallback={onRedirectCallback}\n      audience={audience}\n    >\n      {children}\n    </Auth0Provider>\n  );\n};\n\nexport default Auth0ProviderWithHistory;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./app\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport Auth0ProviderWithHistory from \"./auth0-provider-with-history\";\n\nimport \"./index.css\";\n\n\nReactDOM.render(\n  <Router>\n    <Auth0ProviderWithHistory>\n      <App />\n    </Auth0ProviderWithHistory>\n  </Router>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}